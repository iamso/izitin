/*!
 * izitin - version 0.1.0
 *
 * Made with ‚ù§ by Steve Ottoz so@dev.so
 *
 * Copyright (c) 2017 Steve Ottoz
 */
(function(a,b){if('function'==typeof define&&define.amd)define(['module','exports'],b);else if('undefined'!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports),a.Izitin=c.exports}})(this,function(a,b){'use strict';function c(g,h){if(!(g instanceof h))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(b,'__esModule',{value:!0});var d=function(){function g(h,j){for(var k=0;k<j.length;k++){var l=j[k];l.enumerable=l.enumerable,l.configurable=!0,'value'in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}return function(h,j,k){return j&&g(h.prototype,j),k&&g(h,k),h}}(),f=function(){function g(){var h=0>=arguments.length||void 0===arguments[0]?{}:arguments[0],j=h.fraction,k=void 0===j?0:j,l=h.fn,m=void 0===l?null:l,n=h.container,o=void 0===n?document:n,p=h.items,q=void 0===p?'.izitin':p,r=h.stagger,s=void 0===r?100:r,t=h.remove,u=void 0!==t&&t;c(this,g),this.fraction=Math.max(Math.min(+k,1),0),this.fn=m,this.container=o instanceof Node?o:document.querySelector(o),this.items=q,this.stagger=+s,this.remove=!!u,this.init()}return d(g,[{key:'init',value:function(){this.lastPosition=window.pageYOffset||document.documentElement.scrollTop,this.handler(),this.isInitialized||(this._handler=this.handler.bind(this),window.addEventListener('scroll',this._handler),window.addEventListener('load',this._handler),window.addEventListener('resize',this._handler),this.isInitialized=!0)}},{key:'handler',value:function(j){var k=this,l=window.pageYOffset||document.documentElement.scrollTop,m=0,n=this.container.querySelectorAll(this.items);this.lastPosition>l&&(n=[].slice.call(n,0).reverse()),n.forEach(function(o){var p=void 0,q=void 0,r=void 0,s=void 0,t=void 0;try{if(p=o.getBoundingClientRect(),q=window.innerWidth,r=window.innerHeight,s={above:0>p.top&&0>=p.bottom,left:0>p.left&&0>=p.right,right:p.left>=q&&p.right>q,below:p.top>=r&&p.bottom>r},k.fraction){var u=Math.min(p.height,r)*k.fraction,v=Math.min(p.width,q)*k.fraction;t=(p.top<=r-u&&0<p.bottom||p.top<r&&p.bottom>=u&&p.bottom<=r)&&(p.left<=q-v&&0<p.right||p.left<q&&p.right>=v&&p.right<=q)}else t=p.top<r&&0<p.bottom&&p.left<q&&0<p.right;t?k.stagger&&!o.classList.contains('itizin')?(setTimeout(function(){o.classList.add('itizin')},k.stagger*m),m++):o.classList.add('itizin'):k.remove&&o.classList.remove('itizin'),s.above?o.classList.add('izitin-above'):o.classList.remove('izitin-above'),s.below?o.classList.add('izitin-below'):o.classList.remove('izitin-below'),s.left?o.classList.add('izitin-left'):o.classList.remove('izitin-left'),s.right?o.classList.add('izitin-right'):o.classList.remove('izitin-right')}catch(x){}var w={target:o,izitin:t,position:s,rect:p};k.fn&&k.fn.apply(o,[w])})}},{key:'destroy',value:function(){this.container.querySelectorAll(this.items).forEach(function(j){j.classList.remove('itizin'),j.classList.remove('izitin-above'),j.classList.remove('izitin-below'),j.classList.remove('izitin-left'),j.classList.remove('izitin-right')}),window.removeEventListener('scroll',this._handler),window.removeEventListener('load',this._handler),window.removeEventListener('resize',this._handler),this.isInitialized=!1}}]),g}();b.default=f,a.exports=b['default']});